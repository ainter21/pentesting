# Lesson 1

## Notekeeping

- Greenshot for windows screenshot

## Unix basics

### ls -la

- `ls -la`: show all files, also hidden files
drwxr-xr-x  2 albjust albjust  4096 nov  1 00:38  Desktop

- d stands for directory, and it is colored in blue
- 3 groups each with read, wite and execute privileges
  - owner
  - group
  - world


### navigate commands
- `cp new.txt /destination`: copy file to a destination
- `mv new.txt /destination`: move the file to a destination
- `locate new.txt`: search for the file
- `updatedb`: to run if you don't find anything
- `passwd`
- `man command`: manual
- `chmod`: used to change mode. YOu can use values like `777` to give all permission or you can use `+x` to give all group executable permission (the file becomes green).  
- `adduser` to add an user
- `su bob`: switch user to bob. With bob we are not allowed to access shadow.
- `su -`: switch to root again

### network commands

- `ifconfig`: print your ip information, netmask, broadcast for ethernet
- `iwconfig`: same but for wireless
- `ping 192.168.1.254`: ping the ip address endlessly
  - `-c 1`: ping for one time
- `arp -a`: associate IP address with MAC addresses. Install using `sudo apt install net-tools`
- `netstat -ano`: shows all the ports that are open and what is conneted to those ports
- `route`: routing table 

### Files
- `/ect/passwd` This file does not store password. You can see who the users are.
- `/etc/shadow` This file contain the hashed password. You can use unshadowing and attempt to crack it.
- `/var/log/auth.log`: all the moves of the users (access denied also).

### viewing, creating and editing files

- `history`: history of commands
- `grep`: search for words
- `echo "name_of_the_file" > words`: put `words` inside `name_of_the_file`. It overrides te content
- `>>`: append the content
- `cat`: see the file content
- `rm`: remove the file
- `touch`: create a file
- `nano`: open nano
- `gedit`: open gedit

### installing tools and updates

- `apt install -y`: install package
- `apt update && apt upgrade`: update and upgrade
- `apt purge`: delete


### package installed

- `git ftp `
- impacket from github


### servers

When you turn PC turned off, they will go away

- `service apache2 start`
- `service ssh start`: network protocol that allows to connect securely 2 computers. Clientserver model. It works with private and public key
- `service postgresql start`
- `... stop`

To make them permanent
- `systemctl enable ssh`
- `systemctl enable postresql` 

### script

Take ping response and see what IP address responds

`cat ip.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":"`

- `cat` output the file
- `grep` search for lines
- `cut` split according delimiter (`-d "delimiter"`) and takes the 4th item of the list generate by splitting the line.
- `tr` translate command. `-d "delimiter"` delete the delimiter. 

We use nano to create a script:

```sh
#/bin/bash
for ip in `seq 1 254`; do
ping -c $1.$ip |grep "64 bytes" | cut -d " " -f 4 | tr -d ":" &
done
```
- `$1` is the user input 
- `&` is used to threading.

**Remember to add executable permission!**.

We can use nmap on these IP address: `for ip in $(cat iplist.txt); do nmap -p 80 -T4 $ip & done`.
- `-p` sets the port
- `-T4` sets the speed